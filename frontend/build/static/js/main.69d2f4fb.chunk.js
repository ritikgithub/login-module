(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1],{63:function(e,t,n){var s={"./ion-action-sheet.entry.js":[87,5],"./ion-alert.entry.js":[88,6],"./ion-app_8.entry.js":[89,7],"./ion-avatar_3.entry.js":[90,17],"./ion-back-button.entry.js":[91,18],"./ion-backdrop.entry.js":[92,44],"./ion-button_2.entry.js":[93,19],"./ion-card_5.entry.js":[94,20],"./ion-checkbox.entry.js":[95,21],"./ion-chip.entry.js":[96,22],"./ion-col_3.entry.js":[97,45],"./ion-datetime_3.entry.js":[98,10],"./ion-fab_3.entry.js":[99,23],"./ion-img.entry.js":[100,46],"./ion-infinite-scroll_2.entry.js":[101,47],"./ion-input.entry.js":[102,24],"./ion-item-option_3.entry.js":[103,25],"./ion-item_8.entry.js":[104,26],"./ion-loading.entry.js":[105,27],"./ion-menu_3.entry.js":[106,28],"./ion-modal.entry.js":[107,8],"./ion-nav_2.entry.js":[108,14],"./ion-popover.entry.js":[109,9],"./ion-progress-bar.entry.js":[110,29],"./ion-radio_2.entry.js":[111,30],"./ion-range.entry.js":[112,31],"./ion-refresher_2.entry.js":[113,11],"./ion-reorder_2.entry.js":[114,16],"./ion-ripple-effect.entry.js":[115,48],"./ion-route_4.entry.js":[116,32],"./ion-searchbar.entry.js":[117,33],"./ion-segment_2.entry.js":[118,34],"./ion-select_3.entry.js":[119,35],"./ion-slide_2.entry.js":[120,49],"./ion-spinner.entry.js":[121,13],"./ion-split-pane.entry.js":[122,50],"./ion-tab-bar_2.entry.js":[123,36],"./ion-tab_2.entry.js":[124,15],"./ion-text.entry.js":[125,37],"./ion-textarea.entry.js":[126,38],"./ion-toast.entry.js":[127,39],"./ion-toggle.entry.js":[128,12],"./ion-virtual-scroll.entry.js":[129,51]};function r(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(s)},r.id=63,e.exports=r},65:function(e,t,n){var s={"./ion-icon.entry.js":[130,58]};function r(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(s)},r.id=65,e.exports=r},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),c=n(30),o=n.n(c),a=n(26),i=n(5),j=n(15),l=n(2),d=n(53),u=n(1),b=function(e){var t=e.setLoggedIn,n=e.setuser,r=Object(s.useState)(""),c=Object(i.a)(r,2),o=c[0],a=c[1],d=Object(s.useState)(""),b=Object(i.a)(d,2),O=b[0],h=b[1],x=Object(s.useState)(!1),f=Object(i.a)(x,2),p=f[0],g=f[1],m=Object(s.useState)(""),v=Object(i.a)(m,2),y=v[0],k=v[1],S=Object(s.useState)(""),w=Object(i.a)(S,2),C=w[0],P=w[1];Object(j.e)();return Object(u.jsxs)(l.n,{children:[Object(u.jsx)(l.h,{children:Object(u.jsx)(l.u,{children:Object(u.jsx)(l.s,{children:"Login"})})}),Object(u.jsxs)(l.e,{className:"ion-padding-top",children:[Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Email"}),Object(u.jsx)(l.j,{value:o,onIonChange:function(e){return a(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Password"}),Object(u.jsx)(l.j,{type:"password",value:O,onIonChange:function(e){return h(e.detail.value)}})]}),Object(u.jsx)(l.c,{size:"default",expand:"block",onClick:function(){if(""==o||""==O)return P("danger"),k("All fields are mandatory"),void g(!0);var e=0;fetch("http://192.168.43.228:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:O})}).then((function(t){return e=t.status,t.json()})).then((function(s){200==e?(P("success"),k(s.message),g(!0),localStorage.setItem("token",s.token),t(!0),n(s.user)):(P("danger"),k(s.error),g(!0))}))},color:"primary",children:"Login"}),Object(u.jsx)(l.c,{fill:"clear",routerLink:"/register",children:"Create a New Account??"}),Object(u.jsx)(l.c,{fill:"clear",routerLink:"/forgotpassword",children:"Forgot Password?"}),Object(u.jsx)(l.t,{isOpen:p,onDidDismiss:function(){return g(!1)},message:y,duration:2e3,color:C})]})]})},O=function(e){var t=e.setLoggedIn;return console.log("home rerenders"),Object(u.jsxs)(l.n,{children:[Object(u.jsx)(l.h,{children:Object(u.jsx)(l.u,{children:Object(u.jsx)(l.s,{children:"Homee "})})}),Object(u.jsxs)(l.e,{className:"ion-padding-top",children:[Object(u.jsx)(l.c,{fill:"clear",routerLink:"/profile",children:"Go To Profile Page"}),Object(u.jsx)(l.c,{onClick:function(){localStorage.clear(),t(!1)},children:"LogOut"})]})]})},h=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(),o=Object(i.a)(c,2),a=o[0],d=o[1],b=Object(s.useState)(""),O=Object(i.a)(b,2),h=O[0],x=O[1],f=Object(s.useState)(""),p=Object(i.a)(f,2),g=p[0],m=p[1],v=Object(s.useState)(""),y=Object(i.a)(v,2),k=y[0],S=y[1],w=Object(s.useState)(""),C=Object(i.a)(w,2),P=C[0],N=C[1],_=Object(s.useState)(!1),I=Object(i.a)(_,2),T=I[0],L=I[1],D=Object(s.useState)(""),F=Object(i.a)(D,2),E=F[0],A=F[1],R=Object(s.useState)(""),z=Object(i.a)(R,2),J=z[0],M=z[1],U=Object(j.e)();return Object(u.jsxs)(l.n,{children:[Object(u.jsx)(l.h,{children:Object(u.jsx)(l.u,{children:Object(u.jsx)(l.s,{children:"Register"})})}),Object(u.jsxs)(l.e,{className:"ion-padding-top",children:[Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Name"}),Object(u.jsx)(l.j,{value:n,onIonChange:function(e){return r(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Email"}),Object(u.jsx)(l.j,{value:g,onIonChange:function(e){return m(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Age"}),Object(u.jsx)(l.j,{value:a,onIonChange:function(e){return d(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Gender"}),Object(u.jsxs)(l.q,{value:h,placeholder:"Select One",onIonChange:function(e){return x(e.detail.value)},children:[Object(u.jsx)(l.r,{value:"female",children:"Female"}),Object(u.jsx)(l.r,{value:"male",children:"Male"})]})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Password"}),Object(u.jsx)(l.j,{type:"password",value:P,onIonChange:function(e){return N(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Confirm Password"}),Object(u.jsx)(l.j,{type:"password",value:k,onIonChange:function(e){return S(e.detail.value)}})]}),Object(u.jsx)(l.c,{size:"default",expand:"block",onClick:function(){if(""==n||""==g||""==P||""==k)return M("danger"),A("All fields are mandatory"),void L(!0);if(P!=k)return M("danger"),A("password should be matched"),void L(!0);var e=0;fetch("http://192.168.43.228:5000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:g,password:P,age:a,gender:h})}).then((function(t){return e=t.status,t.json()})).then((function(t){200==e?(M("success"),A(t.message),L(!0),U.push("/login")):(M("danger"),A(t.error),L(!0))}))},color:"primary",children:"Register"}),Object(u.jsx)(l.t,{isOpen:T,onDidDismiss:function(){return L(!1)},message:E,duration:2e3,color:J})]})]})},x=function(){console.log("Rerend frogotpassword");var e,t=Object(s.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(s.useState)(""),a=Object(i.a)(o,2),d=a[0],b=a[1],O=Object(s.useState)(""),h=Object(i.a)(O,2),x=h[0],f=h[1],p=Object(s.useState)(""),g=Object(i.a)(p,2),m=g[0],v=g[1],y=Object(s.useState)(!1),k=Object(i.a)(y,2),S=k[0],w=k[1],C=Object(s.useState)(""),P=Object(i.a)(C,2),N=P[0],_=P[1],I=Object(s.useState)(""),T=Object(i.a)(I,2),L=T[0],D=T[1],F=Object(s.useState)(!1),E=Object(i.a)(F,2),A=E[0],R=E[1],z=Object(s.useState)(!1),J=Object(i.a)(z,2),M=J[0],U=J[1],B=Object(s.useState)(!1),G=Object(i.a)(B,2),q=G[0],W=G[1];Object(j.e)();function H(){if(""==d)return D("danger"),_("Email should not be empty"),void w(!0);var e=0;R(!0),fetch("http://192.168.43.228:5000/sendForgotPasswordToken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d})}).then((function(t){return e=t.status,t.json()})).then((function(t){200==e?(D("success"),_(t.message),w(!0),U(!0),R(!1)):(D("danger"),_(t.error),w(!0),R(!1))}))}function $(){if(""==r||""==x)return D("danger"),_("All fields are mandatory"),void w(!0);if(x!==m)return D("danger"),_("Passwords Should be Matched"),void w(!0);var e=0;fetch("http://192.168.43.228:5000/verifyForgotPasswordDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:x})}).then((function(t){return e=t.status,t.json()})).then((function(t){200==e?(D("success"),_(t.message),w(!0),W(!0)):(D("danger"),_(t.error),w(!0))}))}return A||M?q?e=Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"text-primary h3",children:"Password Changed Successfully"}),Object(u.jsx)(l.c,{routerLink:"/login",fill:"clear",children:"Go to Login Page"})]}):M&&(e=Object(u.jsxs)("div",{children:[Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Token"}),Object(u.jsx)(l.j,{value:r,onIonChange:function(e){return c(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"New Password"}),Object(u.jsx)(l.j,{value:x,onIonChange:function(e){return f(e.detail.value)}})]}),Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Confrim Password"}),Object(u.jsx)(l.j,{value:m,onIonChange:function(e){return v(e.detail.value)}})]}),Object(u.jsx)(l.c,{size:"default",expand:"block",onClick:$,color:"primary",children:"Set Password"})]})):(console.log("sd"),e=Object(u.jsxs)("div",{children:[Object(u.jsxs)(l.k,{children:[Object(u.jsx)(l.l,{position:"stacked",children:"Email"}),Object(u.jsx)(l.j,{value:d,onIonChange:function(e){return b(e.detail.value)}})]}),Object(u.jsx)(l.c,{size:"default",expand:"block",onClick:H,color:"primary",children:"Send Reset Token"})]})),Object(u.jsxs)(l.n,{children:[Object(u.jsx)(l.h,{children:Object(u.jsx)(l.u,{children:Object(u.jsx)(l.s,{children:"Forgot Password"})})}),Object(u.jsxs)(l.e,{className:"ion-padding-top",children:[e,Object(u.jsx)(l.t,{isOpen:S,onDidDismiss:function(){return w(!1)},message:N,duration:2e3,color:L}),Object(u.jsx)(l.m,{isOpen:A})]})]})},f=n(19),p=function(e){var t=e.user;e.setuser;return console.log("Rerenders"),Object(u.jsxs)(l.n,{children:[Object(u.jsx)(l.h,{children:Object(u.jsxs)(l.u,{children:[Object(u.jsx)(l.d,{slot:"start",children:Object(u.jsx)(l.b,{})}),Object(u.jsx)(l.s,{children:"Profile"})]})}),Object(u.jsxs)(l.e,{children:[Object(u.jsxs)("div",{className:"text-center mt-3",children:[Object(u.jsx)("img",{src:"http://192.168.43.228:5000/".concat(t.avatar),alt:"",style:{height:"200px",width:"200px",borderRadius:"50%"}}),Object(u.jsx)("div",{className:"h4 mt-3 text-primary",children:t.name}),t.age&&Object(u.jsx)("div",{className:"h4 mt-3 text-primary",children:"".concat(t.age," years old")}),Object(u.jsx)("div",{className:"h4 mt-3 text-primary",children:t.gender})]}),Object(u.jsx)(l.f,{vertical:"bottom",horizontal:"end",slot:"fixed",children:Object(u.jsx)(l.g,{routerLink:"/editProfile",children:Object(u.jsx)(l.i,{icon:f.h})})})]})]})},g=n(4),m=n.n(g),v=n(13),y=n(43),k=function(e){var t=e.user,n=e.setuser,r=Object(s.useState)(),c=Object(i.a)(r,2),o=c[0],a=c[1],d=Object(s.useState)("http://192.168.43.228:5000/".concat(t.avatar)),b=Object(i.a)(d,2),O=b[0],h=b[1],x=Object(s.useState)(t.name),f=Object(i.a)(x,2),p=f[0],g=f[1],k=Object(s.useState)(t.age),S=Object(i.a)(k,2),w=S[0],C=S[1],P=Object(s.useState)(t.gender),N=Object(i.a)(P,2),_=N[0],I=N[1],T=Object(s.useState)(!1),L=Object(i.a)(T,2),D=L[0],F=L[1],E=Object(s.useState)(""),A=Object(i.a)(E,2),R=A[0],z=A[1],J=Object(s.useState)(""),M=Object(i.a)(J,2),U=M[0],B=M[1],G=Object(j.e)();Object(s.useRef)();function q(){return(q=Object(v.a)(m.a.mark((function e(){var t,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.getPhoto({resultType:y.b.Uri});case 2:return t=e.sent,e.next=5,fetch(t.webPath);case 5:return n=e.sent,e.next=8,n.blob();case 8:s=e.sent,a(s),h(t.webPath);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("edit rerenders"),Object(u.jsxs)(l.n,{children:[Object(u.jsx)(l.h,{children:Object(u.jsxs)(l.u,{children:[Object(u.jsx)(l.d,{slot:"start",children:Object(u.jsx)(l.b,{})}),Object(u.jsx)(l.s,{children:"Edit Profile"})]})}),Object(u.jsx)(l.e,{children:Object(u.jsxs)("div",{className:"text-center mt-3",children:[Object(u.jsx)("img",{onClick:function(){return q.apply(this,arguments)},src:O,alt:"",style:{height:"200px",width:"200px",borderRadius:"50%"}}),Object(u.jsxs)(l.k,{className:"mt-3",children:[Object(u.jsx)(l.l,{position:"stacked",children:"Name"}),Object(u.jsx)(l.j,{value:p,onIonChange:function(e){return g(e.detail.value)}})]}),Object(u.jsxs)(l.k,{className:"mt-3",children:[Object(u.jsx)(l.l,{position:"stacked",children:"Age"}),Object(u.jsx)(l.j,{value:w,onIonChange:function(e){return C(e.detail.value)}})]}),Object(u.jsxs)(l.k,{className:"mt-3",children:[Object(u.jsx)(l.l,{position:"stacked",children:"Gender"}),Object(u.jsxs)(l.q,{value:_,placeholder:"Select One",onIonChange:function(e){return I(e.detail.value)},children:[Object(u.jsx)(l.r,{value:"female",children:"Female"}),Object(u.jsx)(l.r,{value:"male",children:"Male"})]})]}),Object(u.jsx)(l.c,{size:"default",expand:"block",onClick:function(){var e=new FormData;if(""==p)return B("danger"),z("Name should not be empty!"),void F(!0);e.append("imgFile",o),e.append("name",p),e.append("age",w),e.append("gender",_),e.append("userId",t._id);var s=0;fetch("http://192.168.43.228:5000/updateProfile",{method:"POST",body:e}).then((function(e){return s=e.status,e.json()})).then((function(e){200==s?(n(e.user),B("success"),z(e.message),F(!0),G.push("/profile")):(B("danger"),z(e.error),F(!0))}))},color:"primary",children:"Update"}),Object(u.jsx)(l.t,{isOpen:D,onDidDismiss:function(){return F(!1)},message:R,duration:2e3,color:U})]})})]})},S=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)({}),o=Object(i.a)(c,2),f=o[0],g=o[1],m=0;return Object(s.useEffect)((function(){fetch("http://192.168.43.228:5000/isAuthenticated",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return m=e.status,e.json()})).then((function(e){200==m&&(r(!0),g(e.user))}))}),[]),Object(u.jsx)(l.a,{children:Object(u.jsx)(d.a,{children:Object(u.jsxs)(l.p,{children:[Object(u.jsx)(j.b,{exact:!0,path:"/",render:function(e){return n?Object(u.jsx)(O,Object(a.a)(Object(a.a)({},e),{},{setLoggedIn:r})):Object(u.jsx)(j.a,{to:"/login"})}}),Object(u.jsx)(j.b,{exact:!0,path:"/login",render:function(e){return n?Object(u.jsx)(j.a,{to:"/"}):Object(u.jsx)(b,Object(a.a)(Object(a.a)({},e),{},{setLoggedIn:r,setuser:g}))}}),Object(u.jsx)(j.b,{exact:!0,path:"/profile",render:function(e){return n?Object(u.jsx)(p,Object(a.a)(Object(a.a)({},e),{},{user:f,setuser:g})):Object(u.jsx)(j.a,{to:"/"})}}),Object(u.jsx)(j.b,{exact:!0,path:"/editProfile",render:function(e){return n?Object(u.jsx)(k,Object(a.a)(Object(a.a)({},e),{},{user:f,setuser:g})):Object(u.jsx)(j.a,{to:"/"})}}),Object(u.jsx)(j.b,{exact:!0,path:"/register",children:n?Object(u.jsx)(j.a,{to:"/"}):Object(u.jsx)(h,{})}),Object(u.jsx)(j.b,{exact:!0,path:"/forgotpassword",render:function(e){return n?Object(u.jsx)(j.a,{to:"/"}):Object(u.jsx)(x,{})}})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=function(e){e&&e instanceof Function&&n.e(59).then(n.bind(null,148)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),s(e),r(e),c(e),o(e)}))};n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),w()}},[[85,3,4]]]);
//# sourceMappingURL=main.69d2f4fb.chunk.js.map