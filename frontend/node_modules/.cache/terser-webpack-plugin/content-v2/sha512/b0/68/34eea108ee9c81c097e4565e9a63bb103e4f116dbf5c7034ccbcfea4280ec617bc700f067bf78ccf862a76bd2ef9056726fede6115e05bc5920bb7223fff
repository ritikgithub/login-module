{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[40],{131:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"CameraWeb\",(function(){return f})),r.d(t,\"Camera\",(function(){return d}));var a=r(4),n=r.n(a),i=r(13),c=r(8),o=r(9),s=r(10),u=r(11),p=r(52),l=r(49),f=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:\"getPhoto\",value:function(){var e=Object(i.a)(n.a.mark((function e(t){var r=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise(function(){var e=Object(i.a)(n.a.mark((function e(a,c){var o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.webUseInput){e.next=4;break}r.fileInputExperience(t,a),e.next=21;break;case 4:if(!customElements.get(\"pwa-camera-modal\")){e.next=19;break}return o=document.createElement(\"pwa-camera-modal\"),document.body.appendChild(o),e.prev=7,e.next=10,o.componentOnReady();case 10:o.addEventListener(\"onPhoto\",function(){var e=Object(i.a)(n.a.mark((function e(i){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(s=i.detail)){e.next=5;break}c(new p.a(\"User cancelled photos app\")),e.next=14;break;case 5:if(!(s instanceof Error)){e.next=9;break}c(s),e.next=14;break;case 9:return e.t0=a,e.next=12,r._getCameraPhoto(s,t);case 12:e.t1=e.sent,(0,e.t0)(e.t1);case 14:o.dismiss(),document.body.removeChild(o);case 16:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.present(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),r.fileInputExperience(t,a);case 17:e.next=21;break;case 19:console.error(\"Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements.\"),r.fileInputExperience(t,a);case 21:case\"end\":return e.stop()}}),e,null,[[7,14]])})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"fileInputExperience\",value:function(e,t){var r=document.querySelector(\"#_capacitor-camera-input\"),a=function(){var e;null===(e=r.parentNode)||void 0===e||e.removeChild(r)};r||((r=document.createElement(\"input\")).id=\"_capacitor-camera-input\",r.type=\"file\",document.body.appendChild(r)),r.accept=\"image/*\",r.capture=!0,e.source===l.c.Photos||e.source===l.c.Prompt?r.removeAttribute(\"capture\"):e.direction===l.a.Front?r.capture=\"user\":e.direction===l.a.Rear&&(r.capture=\"environment\"),r.addEventListener(\"change\",(function(n){var i=r.files[0],c=\"jpeg\";if(\"image/png\"===i.type?c=\"png\":\"image/gif\"===i.type&&(c=\"gif\"),\"dataUrl\"===e.resultType||\"base64\"===e.resultType){var o=new FileReader;o.addEventListener(\"load\",(function(){if(\"dataUrl\"===e.resultType)t({dataUrl:o.result,format:c});else if(\"base64\"===e.resultType){var r=o.result.split(\",\")[1];t({base64String:r,format:c})}a()})),o.readAsDataURL(i)}else t({webPath:URL.createObjectURL(i),format:c}),a()})),r.click()}},{key:\"_getCameraPhoto\",value:function(e,t){return new Promise((function(r,a){var n=new FileReader,i=e.type.split(\"/\")[1];\"uri\"===t.resultType?r({webPath:URL.createObjectURL(e),format:i}):(n.readAsDataURL(e),n.onloadend=function(){var e=n.result;\"dataUrl\"===t.resultType?r({dataUrl:e,format:i}):r({base64String:e.split(\",\")[1],format:i})},n.onerror=function(e){a(e)})}))}},{key:\"checkPermissions\",value:function(){var e=Object(i.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"undefined\"!==typeof navigator&&navigator.permissions){e.next=2;break}throw this.unavailable(\"Permissions API not available in this browser\");case 2:return e.prev=2,e.next=5,window.navigator.permissions.query({name:\"camera\"});case 5:return t=e.sent,e.abrupt(\"return\",{camera:t.state,photos:\"granted\"});case 9:throw e.prev=9,e.t0=e.catch(2),this.unavailable(\"Camera permissions are not available in this browser\");case 12:case\"end\":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:\"requestPermissions\",value:function(){var e=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented(\"Not implemented on web.\");case 1:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(p.b),d=new f}}]);","name":"static/js/40.2172ec81.chunk.js","map":{"version":3,"sources":["static/js/40.2172ec81.chunk.js"],"names":["this","push","131","module","__webpack_exports__","__webpack_require__","r","d","CameraWeb","Camera","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__","_capacitor_core__WEBPACK_IMPORTED_MODULE_6__","_definitions__WEBPACK_IMPORTED_MODULE_7__","_WebPlugin","Object","_super","apply","arguments","key","value","_getPhoto","a","mark","_callee3","options","_this","wrap","_context3","prev","next","abrupt","Promise","_ref","_callee2","resolve","reject","cameraModal","_context2","webUseInput","fileInputExperience","customElements","get","document","createElement","body","appendChild","componentOnReady","addEventListener","_ref2","_callee","e","photo","_context","detail","Error","t0","_getCameraPhoto","t1","sent","dismiss","removeChild","stop","_x4","present","console","error","_x2","_x3","_x","input","querySelector","cleanup","_a","parentNode","id","type","accept","capture","source","Photos","Prompt","removeAttribute","direction","Front","Rear","_e","file","files","format","resultType","reader","FileReader","dataUrl","result","b64","split","base64String","readAsDataURL","webPath","URL","createObjectURL","click","onloadend","onerror","_checkPermissions","_callee4","permission","_context4","navigator","permissions","unavailable","window","query","name","camera","state","photos","_requestPermissions","_callee5","_context5","unimplemented"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[40],{\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CameraWeb\", function() { return CameraWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Camera\", function() { return Camera; });\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(10);\n/* harmony import */ var _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11);\n/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(52);\n/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(49);\n\n\n\n\n\n\n\n\nvar CameraWeb = /*#__PURE__*/function (_WebPlugin) {\n  Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(CameraWeb, _WebPlugin);\n\n  var _super = Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(CameraWeb);\n\n  function CameraWeb() {\n    Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, CameraWeb);\n\n    return _super.apply(this, arguments);\n  }\n\n  Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(CameraWeb, [{\n    key: \"getPhoto\",\n    value: function () {\n      var _getPhoto = Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(options) {\n        var _this = this;\n\n        return _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                  var _ref = Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(resolve, reject) {\n                    var cameraModal;\n                    return _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (!options.webUseInput) {\n                              _context2.next = 4;\n                              break;\n                            }\n\n                            _this.fileInputExperience(options, resolve);\n\n                            _context2.next = 21;\n                            break;\n\n                          case 4:\n                            if (!customElements.get('pwa-camera-modal')) {\n                              _context2.next = 19;\n                              break;\n                            }\n\n                            cameraModal = document.createElement('pwa-camera-modal');\n                            document.body.appendChild(cameraModal);\n                            _context2.prev = 7;\n                            _context2.next = 10;\n                            return cameraModal.componentOnReady();\n\n                          case 10:\n                            cameraModal.addEventListener('onPhoto', /*#__PURE__*/function () {\n                              var _ref2 = Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {\n                                var photo;\n                                return _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n                                  while (1) {\n                                    switch (_context.prev = _context.next) {\n                                      case 0:\n                                        photo = e.detail;\n\n                                        if (!(photo === null)) {\n                                          _context.next = 5;\n                                          break;\n                                        }\n\n                                        reject(new _capacitor_core__WEBPACK_IMPORTED_MODULE_6__[/* CapacitorException */ \"a\"]('User cancelled photos app'));\n                                        _context.next = 14;\n                                        break;\n\n                                      case 5:\n                                        if (!(photo instanceof Error)) {\n                                          _context.next = 9;\n                                          break;\n                                        }\n\n                                        reject(photo);\n                                        _context.next = 14;\n                                        break;\n\n                                      case 9:\n                                        _context.t0 = resolve;\n                                        _context.next = 12;\n                                        return _this._getCameraPhoto(photo, options);\n\n                                      case 12:\n                                        _context.t1 = _context.sent;\n                                        (0, _context.t0)(_context.t1);\n\n                                      case 14:\n                                        cameraModal.dismiss();\n                                        document.body.removeChild(cameraModal);\n\n                                      case 16:\n                                      case \"end\":\n                                        return _context.stop();\n                                    }\n                                  }\n                                }, _callee);\n                              }));\n\n                              return function (_x4) {\n                                return _ref2.apply(this, arguments);\n                              };\n                            }());\n                            cameraModal.present();\n                            _context2.next = 17;\n                            break;\n\n                          case 14:\n                            _context2.prev = 14;\n                            _context2.t0 = _context2[\"catch\"](7);\n\n                            _this.fileInputExperience(options, resolve);\n\n                          case 17:\n                            _context2.next = 21;\n                            break;\n\n                          case 19:\n                            console.error(\"Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements.\");\n\n                            _this.fileInputExperience(options, resolve);\n\n                          case 21:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, null, [[7, 14]]);\n                  }));\n\n                  return function (_x2, _x3) {\n                    return _ref.apply(this, arguments);\n                  };\n                }()));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getPhoto(_x) {\n        return _getPhoto.apply(this, arguments);\n      }\n\n      return getPhoto;\n    }()\n  }, {\n    key: \"fileInputExperience\",\n    value: function fileInputExperience(options, resolve) {\n      var input = document.querySelector('#_capacitor-camera-input');\n\n      var cleanup = function cleanup() {\n        var _a;\n\n        (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n      };\n\n      if (!input) {\n        input = document.createElement('input');\n        input.id = '_capacitor-camera-input';\n        input.type = 'file';\n        document.body.appendChild(input);\n      }\n\n      input.accept = 'image/*';\n      input.capture = true;\n\n      if (options.source === _definitions__WEBPACK_IMPORTED_MODULE_7__[/* CameraSource */ \"c\"].Photos || options.source === _definitions__WEBPACK_IMPORTED_MODULE_7__[/* CameraSource */ \"c\"].Prompt) {\n        input.removeAttribute('capture');\n      } else if (options.direction === _definitions__WEBPACK_IMPORTED_MODULE_7__[/* CameraDirection */ \"a\"].Front) {\n        input.capture = 'user';\n      } else if (options.direction === _definitions__WEBPACK_IMPORTED_MODULE_7__[/* CameraDirection */ \"a\"].Rear) {\n        input.capture = 'environment';\n      }\n\n      input.addEventListener('change', function (_e) {\n        var file = input.files[0];\n        var format = 'jpeg';\n\n        if (file.type === 'image/png') {\n          format = 'png';\n        } else if (file.type === 'image/gif') {\n          format = 'gif';\n        }\n\n        if (options.resultType === 'dataUrl' || options.resultType === 'base64') {\n          var reader = new FileReader();\n          reader.addEventListener('load', function () {\n            if (options.resultType === 'dataUrl') {\n              resolve({\n                dataUrl: reader.result,\n                format: format\n              });\n            } else if (options.resultType === 'base64') {\n              var b64 = reader.result.split(',')[1];\n              resolve({\n                base64String: b64,\n                format: format\n              });\n            }\n\n            cleanup();\n          });\n          reader.readAsDataURL(file);\n        } else {\n          resolve({\n            webPath: URL.createObjectURL(file),\n            format: format\n          });\n          cleanup();\n        }\n      });\n      input.click();\n    }\n  }, {\n    key: \"_getCameraPhoto\",\n    value: function _getCameraPhoto(photo, options) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var format = photo.type.split('/')[1];\n\n        if (options.resultType === 'uri') {\n          resolve({\n            webPath: URL.createObjectURL(photo),\n            format: format\n          });\n        } else {\n          reader.readAsDataURL(photo);\n\n          reader.onloadend = function () {\n            var r = reader.result;\n\n            if (options.resultType === 'dataUrl') {\n              resolve({\n                dataUrl: r,\n                format: format\n              });\n            } else {\n              resolve({\n                base64String: r.split(',')[1],\n                format: format\n              });\n            }\n          };\n\n          reader.onerror = function (e) {\n            reject(e);\n          };\n        }\n      });\n    }\n  }, {\n    key: \"checkPermissions\",\n    value: function () {\n      var _checkPermissions = Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4() {\n        var permission;\n        return _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(typeof navigator === 'undefined' || !navigator.permissions)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw this.unavailable('Permissions API not available in this browser');\n\n              case 2:\n                _context4.prev = 2;\n                _context4.next = 5;\n                return window.navigator.permissions.query({\n                  name: 'camera'\n                });\n\n              case 5:\n                permission = _context4.sent;\n                return _context4.abrupt(\"return\", {\n                  camera: permission.state,\n                  photos: 'granted'\n                });\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](2);\n                throw this.unavailable('Camera permissions are not available in this browser');\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 9]]);\n      }));\n\n      function checkPermissions() {\n        return _checkPermissions.apply(this, arguments);\n      }\n\n      return checkPermissions;\n    }()\n  }, {\n    key: \"requestPermissions\",\n    value: function () {\n      var _requestPermissions = Object(_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5() {\n        return _home_ritik_agarwal_Desktop_GL_login_module_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                throw this.unimplemented('Not implemented on web.');\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function requestPermissions() {\n        return _requestPermissions.apply(this, arguments);\n      }\n\n      return requestPermissions;\n    }()\n  }]);\n\n  return CameraWeb;\n}(_capacitor_core__WEBPACK_IMPORTED_MODULE_6__[/* WebPlugin */ \"b\"]);\nvar Camera = new CameraWeb();\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["../../src/web.ts"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n    async getPhoto(options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            if (options.webUseInput) {\n                this.fileInputExperience(options, resolve);\n            }\n            else {\n                if (customElements.get('pwa-camera-modal')) {\n                    const cameraModal = document.createElement('pwa-camera-modal');\n                    document.body.appendChild(cameraModal);\n                    try {\n                        await cameraModal.componentOnReady();\n                        cameraModal.addEventListener('onPhoto', async (e) => {\n                            const photo = e.detail;\n                            if (photo === null) {\n                                reject(new CapacitorException('User cancelled photos app'));\n                            }\n                            else if (photo instanceof Error) {\n                                reject(photo);\n                            }\n                            else {\n                                resolve(await this._getCameraPhoto(photo, options));\n                            }\n                            cameraModal.dismiss();\n                            document.body.removeChild(cameraModal);\n                        });\n                        cameraModal.present();\n                    }\n                    catch (e) {\n                        this.fileInputExperience(options, resolve);\n                    }\n                }\n                else {\n                    console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements.`);\n                    this.fileInputExperience(options, resolve);\n                }\n            }\n        });\n    }\n    fileInputExperience(options, resolve) {\n        let input = document.querySelector('#_capacitor-camera-input');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input';\n            input.type = 'file';\n            document.body.appendChild(input);\n        }\n        input.accept = 'image/*';\n        input.capture = true;\n        if (options.source === CameraSource.Photos ||\n            options.source === CameraSource.Prompt) {\n            input.removeAttribute('capture');\n        }\n        else if (options.direction === CameraDirection.Front) {\n            input.capture = 'user';\n        }\n        else if (options.direction === CameraDirection.Rear) {\n            input.capture = 'environment';\n        }\n        input.addEventListener('change', (_e) => {\n            const file = input.files[0];\n            let format = 'jpeg';\n            if (file.type === 'image/png') {\n                format = 'png';\n            }\n            else if (file.type === 'image/gif') {\n                format = 'gif';\n            }\n            if (options.resultType === 'dataUrl' || options.resultType === 'base64') {\n                const reader = new FileReader();\n                reader.addEventListener('load', () => {\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: reader.result,\n                            format,\n                        });\n                    }\n                    else if (options.resultType === 'base64') {\n                        const b64 = reader.result.split(',')[1];\n                        resolve({\n                            base64String: b64,\n                            format,\n                        });\n                    }\n                    cleanup();\n                });\n                reader.readAsDataURL(file);\n            }\n            else {\n                resolve({\n                    webPath: URL.createObjectURL(file),\n                    format: format,\n                });\n                cleanup();\n            }\n        });\n        input.click();\n    }\n    _getCameraPhoto(photo, options) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const format = photo.type.split('/')[1];\n            if (options.resultType === 'uri') {\n                resolve({\n                    webPath: URL.createObjectURL(photo),\n                    format: format,\n                });\n            }\n            else {\n                reader.readAsDataURL(photo);\n                reader.onloadend = () => {\n                    const r = reader.result;\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: r,\n                            format: format,\n                        });\n                    }\n                    else {\n                        resolve({\n                            base64String: r.split(',')[1],\n                            format: format,\n                        });\n                    }\n                };\n                reader.onerror = e => {\n                    reject(e);\n                };\n            }\n        });\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        try {\n            // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n            // the specific permissions that are supported varies among browsers that implement the\n            // permissions API, so we need a try/catch in case 'camera' is invalid\n            const permission = await window.navigator.permissions.query({\n                name: 'camera',\n            });\n            return {\n                camera: permission.state,\n                photos: 'granted',\n            };\n        }\n        catch (_a) {\n            throw this.unavailable('Camera permissions are not available in this browser');\n        }\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n}\nconst Camera = new CameraWeb();\nexport { Camera };\n//# sourceMappingURL=web.js.map"]}}